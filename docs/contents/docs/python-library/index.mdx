---
title: Python Library
---
The Shellviz Python library provides powerful data visualization capabilities for Python scripts and applications. It creates a local web server that can receive and visualize data, making it perfect for data analysis, debugging, and monitoring applications.

## Installation

Install Shellviz with pip:
```bash
pip install shellviz
```

## Quick Start

### Basic Usage
```python
from shellviz import log, table, json

# Start logging data
log('my first shellviz command')
# Shellviz serving on http://127.0.0.1:5544

# Display tabular data
table([("Alice", 25, 5.6), ("Bob", 30, 5.9), ("Charlie", 22, 5.7)])

# Show JSON data
json({"name": "Alice", "age": 25, "height": 5.6})
```

### Custom Instance
```python
from shellviz import Shellviz

# Create custom instance
sv = Shellviz(port=3333, show_url=False)
sv.log('Custom instance message')
sv.table([('Name', 'Value'), ('Custom', 123)])
```

## Core Functions

### Data Visualization Functions

#### `log(*data, id=None)`
Display log messages with timestamps
```python
log('Simple message')
log('Error occurred:', error_msg, id='errors')
log('Multiple', 'values', 'supported')

# Logs automatically append by default
log('First message', id='process')
log('Second message', id='process')  # Appends to 'process' log
```

#### `table(data, id=None, append=False)`
Display tabular data
```python
# List of tuples/lists
table([('Name', 'Age'), ('Alice', 30), ('Bob', 25)])

# Single row (automatically wrapped)
table(['Alice', 30, 'Engineer'])

# Update existing table
table([('Charlie', 28)], id='users', append=True)

# Django QuerySet support
from myapp.models import User
table(User.objects.all(), id='all_users')
```

#### `json(data, id=None, append=False)`
Display JSON data with interactive explorer
```python
json({'user': 'alice', 'preferences': {'theme': 'dark'}})
json([1, 2, 3, 4, 5])
json({'timestamp': time.time()}, id='status')

# Django Model support
json(request.user, id='current_user')
```

#### `markdown(text, id=None, append=False)`
Render markdown content
```python
markdown('# Welcome to Shellviz\n\nThis is **bold** text.')
markdown('''
## Status Report
- Task 1: ✅ Complete  
- Task 2: ⏳ In Progress
- Task 3: ❌ Failed
''')
```

#### `progress(value, id=None, append=False)`
Show progress bars (0.0 to 1.0)
```python
progress(0.0, id='migration')
# ... do work ...
progress(0.5, id='migration')
# ... do more work ...
progress(1.0, id='migration')
```

#### `number(value, id=None, append=False)`
Display large numbers with formatting
```python
number(42)
number(1337, id='score')
number(999999, id='total_users')
```

#### `card(data, id=None, append=False)`
Display card-style information
```python
card({'title': 'Server Status', 'value': 'Online', 'color': 'green'})
card('Quick info message')
card({'user_count': 1234, 'active_sessions': 56})
```

### Chart Functions

#### `bar(data, id=None, append=False)`
Create bar charts
```python
bar([
    {'name': 'Jan', 'value': 100},
    {'name': 'Feb', 'value': 150},
    {'name': 'Mar', 'value': 200}
])
```

#### `area(data, id=None, append=False)`
Create area charts
```python
area([
    {'x': '2024-01', 'y': 100},
    {'x': '2024-02', 'y': 150},
    {'x': '2024-03', 'y': 200}
])
```

#### `pie(data, id=None, append=False)`
Create pie charts
```python
pie([
    {'name': 'Desktop', 'value': 45},
    {'name': 'Mobile', 'value': 35},
    {'name': 'Tablet', 'value': 20}
])
```

### Utility Functions

#### `location(coordinates, id=None, append=False)`
Display location data on maps
```python
location({'lat': 40.7128, 'lng': -74.0060, 'name': 'New York City'})
location([
    {'lat': 37.7749, 'lng': -122.4194, 'name': 'San Francisco'},
    {'lat': 34.0522, 'lng': -118.2437, 'name': 'Los Angeles'}
])
```

#### `raw(data, id=None, append=False)`
Display raw data without formatting
```python
raw('Plain text content')
raw('<h1>HTML content</h1>')
```

#### `stack(id=None)`
Display current call stack with local variables
```python
def process_data():
    result = calculate_something()
    stack()  # Shows current call stack with local variables
```

#### `clear()`
Clear all visualizations
```python
clear()
```

#### `wait()`
Wait for data to be displayed (prevents script from exiting)
```python
log('Processing complete')
wait()  # Script will pause until data is viewed in browser
```

#### `show_url()`
Display the server URL
```python
show_url()
# Shellviz running on http://127.0.0.1:5544
```

## Configuration

### Available Options
- `SHELLVIZ_PORT` - Port number (default: 5544)
- `SHELLVIZ_SHOW_URL` - Show URL on startup (default: True)
- `SHELLVIZ_URL` - Custom server URL (overrides port-based URL)


### Configuration Options
Shellviz can be configured in three ways, with constructor arguments taking highest precedence:

#### Constructor Arguments (Highest Priority)
Pass configuration directly when initializing Shellviz:
```python
from shellviz import Shellviz

sv = Shellviz(
    port=9000, 
    show_url=False,
    url="https://my-server.com"
)
```

#### Django Settings (Medium Priority)
If you're using Django, add these to your `settings.py`:
```python
# settings.py
SHELLVIZ_PORT = 8080
SHELLVIZ_SHOW_URL = False
SHELLVIZ_URL = "https://my-custom-domain.com"
```

#### Environment Variables (Lowest Priority)
Set configuration via environment variables:
```bash
export SHELLVIZ_PORT=8080
export SHELLVIZ_SHOW_URL=false
export SHELLVIZ_URL="https://my-remote-shellviz.com"
```

## Advanced Usage

### Displaying on a second screen



For QR code support (optional):
```bash
pip install shellviz qrcode
```


#### `show_qr_code()`
Display QR code for mobile access (requires `qrcode` package)
```python
show_qr_code()
#  ██████████████  ██        ████      ██████████████
#  ██          ██  ██  ████████████    ██          ██
#  ██  ██████  ██  ██  ██  ████  ████  ██  ██████  ██
#  ... QR code continues ...
```



### Multiple Instances
```python
from shellviz import Shellviz

sv1 = Shellviz(port=5000)
sv2 = Shellviz(port=6000)

sv1.log('sending to the first server')
sv2.log('sending to the second server')
```

### Remote Server Connection
```python
from shellviz import Shellviz

# Connect to remote Shellviz instance
sv = Shellviz(url="https://shellviz.mycompany.com")
sv.log("Data from remote client")
```

## Django Integration

### QuerySets and Models
Shellviz can automatically encode Django QuerySet and Model instances:
```python
from shellviz import json, card
from myapp.models import User

# Display a model instance
json(request.user, id='current_user')

# Display a queryset
card(User.objects.all(), id='all_users')
table(User.objects.filter(is_active=True), id='active_users')
```

### Django Logging Handler
Add Shellviz as a logging handler:
```python
# settings.py
LOGGING = {
    'version': 1,
    'disable_existing_loggers': False,
    'handlers': {
        'shellviz': {
            'class': 'shellviz.django.logging.ShellvizHandler',
            'level': 'INFO',
        },
    },
    'loggers': {
        'myapp': {
            'handlers': ['shellviz'],
            'level': 'INFO',
            'propagate': True,
        },
    },
}

# In your code
import logging
logger = logging.getLogger('myapp')
logger.info('This will appear in Shellviz')
```

### Django Debug Toolbar Integration
Add Shellviz as a debug toolbar panel:
```python
# settings.py
if DEBUG:
    DEBUG_TOOLBAR_PANELS = [
        'debug_toolbar.panels.history.HistoryPanel',
        'debug_toolbar.panels.versions.VersionsPanel',
        'debug_toolbar.panels.timer.TimerPanel',
        'shellviz.django.django_debug_toolbar.ShellvizPanel',  # Add this
        # ... other panels
    ]
```

## Data Analysis Examples

### Progress Tracking
```python
import time
from shellviz import progress, log

total_items = 1000
for i in range(total_items):
    # Process item
    process_item(i)
    
    # Update progress
    if i % 10 == 0:  # Update every 10 items
        progress(i / total_items, id='processing')
        log(f'Processed {i}/{total_items} items', id='status')

progress(1.0, id='processing')
log('Processing complete!', id='status')
```

### Data Monitoring
```python
import psutil
import time
from shellviz import number, bar, log

while True:
    # System metrics
    number(psutil.cpu_percent(), id='cpu_usage')
    number(psutil.virtual_memory().percent, id='memory_usage')
    
    # Disk usage by partition
    disk_data = []
    for partition in psutil.disk_partitions():
        try:
            usage = psutil.disk_usage(partition.mountpoint)
            disk_data.append({
                'name': partition.device,
                'value': usage.percent
            })
        except PermissionError:
            continue
    
    bar(disk_data, id='disk_usage')
    log(f'System check at {time.strftime("%H:%M:%S")}', id='monitoring')
    
    time.sleep(5)
```

### API Response Analysis
```python
import requests
from shellviz import json, table, card

response = requests.get('https://api.example.com/users')
data = response.json()

# Show raw response
json(data, id='api_response')

# Extract and show user table
if 'users' in data:
    user_table = []
    for user in data['users']:
        user_table.append([user['name'], user['email'], user['created_at']])
    
    table([['Name', 'Email', 'Created']] + user_table, id='users')

# Show summary stats
card({
    'total_users': len(data.get('users', [])),
    'response_time': f'{response.elapsed.total_seconds():.2f}s',
    'status_code': response.status_code
}, id='summary')
```

## Error Handling

```python
try:
    result = risky_operation()
    log('Success:', result)
except Exception as e:
    log('Error occurred:', str(e), id='errors')
    stack()  # Show call stack for debugging
```

## Command Line Interface

Shellviz also provides a CLI tool:
```bash
# Start a standalone server
shellviz

# Start on custom port
shellviz --port 8080
```